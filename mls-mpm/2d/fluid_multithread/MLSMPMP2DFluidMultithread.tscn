[gd_scene load_steps=9 format=3 uid="uid://dcyxrsklkax1v"]

[ext_resource type="Script" uid="uid://bs1ut4xygvqml" path="res://mls-mpm/2d/fluid_multithread/MLSMPM2DFluidMultithread.cs" id="1_6jy8r"]
[ext_resource type="Texture2D" uid="uid://cmn8qfdkifqbn" path="res://assets/grid_cell.png" id="2_mti7f"]

[sub_resource type="QuadMesh" id="QuadMesh_s1jbg"]
size = Vector2(1, -1)

[sub_resource type="MultiMesh" id="MultiMesh_lxfii"]
instance_count = 100
mesh = SubResource("QuadMesh_s1jbg")
buffer = PackedFloat32Array(2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 1052, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.997156, 307, 1052, 0.308, 0.511, 0.686, 0.8, 1, 0.997156, 304.866, 1052.5, 0.308, 0.511, 0.686, 0.8, 0.993049, 0.99763, 306.598, 1053.5, 0.308, 0.511, 0.686, 0.8, 0.998691, 0.998578, 304.5, 1052.87, 0.308, 0.511, 0.686, 0.8, 0.991857, 0.997977, 305.5, 1054.6, 0.308, 0.511, 0.686, 0.8, 0.995114, 0.999619, 304, 1053, 0.308, 0.511, 0.686, 0.8, 0.990228, 0.998104, 304, 1055, 0.308, 0.511, 0.686, 0.8, 0.990228, 1, 3, 1053, 0.308, 0.511, 0.686, 0.8, 0.00977199, 0.998104, 3, 1055, 0.308, 0.511, 0.686, 0.8, 0.00977198, 1, 2.5, 1052.87, 0.308, 0.511, 0.686, 0.8, 0.00814332, 0.997977, 1.5, 1054.6, 0.308, 0.511, 0.686, 0.8, 0.00488599, 0.999619, 2.13397, 1052.5, 0.308, 0.511, 0.686, 0.8, 0.00695106, 0.99763, 0.401924, 1053.5, 0.308, 0.511, 0.686, 0.8, 0.0013092, 0.998578, 2, 1052, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.997156, 0, 1052, 0.308, 0.511, 0.686, 0.8, 0, 0.997156, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 1052, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.997156, 304.866, 1052.5, 0.17044, 0.21296, 0.26516, 1, 0.993049, 0.99763, 304.5, 1052.87, 0.17044, 0.21296, 0.26516, 1, 0.991857, 0.997977, 304, 1053, 0.17044, 0.21296, 0.26516, 1, 0.990228, 0.998104, 3, 1053, 0.17044, 0.21296, 0.26516, 1, 0.00977199, 0.998104, 2.5, 1052.87, 0.17044, 0.21296, 0.26516, 1, 0.00814332, 0.997977, 2.13397, 1052.5, 0.17044, 0.21296, 0.26516, 1, 0.00695106, 0.99763, 2, 1052, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.997156, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 683, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.995627, 299, 683, 0.368375, 0.35875, 0.686, 0.8, 1, 0.995627, 296.866, 683.5, 0.368375, 0.35875, 0.686, 0.8, 0.992863, 0.996356, 298.598, 684.5, 0.368375, 0.35875, 0.686, 0.8, 0.998656, 0.997813, 296.5, 683.866, 0.368375, 0.35875, 0.686, 0.8, 0.991639, 0.996889, 297.5, 685.598, 0.368375, 0.35875, 0.686, 0.8, 0.994983, 0.999414, 296, 684, 0.368375, 0.35875, 0.686, 0.8, 0.989967, 0.997085, 296, 686, 0.368375, 0.35875, 0.686, 0.8, 0.989967, 1, 3, 684, 0.368375, 0.35875, 0.686, 0.8, 0.0100334, 0.997085, 3, 686, 0.368375, 0.35875, 0.686, 0.8, 0.0100334, 1, 2.5, 683.866, 0.368375, 0.35875, 0.686, 0.8, 0.0083612, 0.996889, 1.5, 685.598, 0.368375, 0.35875, 0.686, 0.8, 0.00501672, 0.999414, 2.13397, 683.5, 0.368375, 0.35875, 0.686, 0.8, 0.00713704, 0.996356, 0.401924, 684.5, 0.368375, 0.35875, 0.686, 0.8, 0.00134423, 0.997813, 2, 683, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.995627, 0, 683, 0.368375, 0.35875, 0.686, 0.8, 0, 0.995627, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 683, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.995627, 296.866, 683.5, 0.17734, 0.19556, 0.26516, 1, 0.992863, 0.996356, 296.5, 683.866, 0.17734, 0.19556, 0.26516, 1, 0.991639, 0.996889, 296, 684, 0.17734, 0.19556, 0.26516, 1, 0.989967, 0.997085, 3, 684, 0.17734, 0.19556, 0.26516, 1, 0.0100334, 0.997085, 2.5, 683.866, 0.17734, 0.19556, 0.26516, 1, 0.0083612, 0.996889, 2.13397, 683.5, 0.17734, 0.19556, 0.26516, 1, 0.00713704, 0.996356, 2, 683, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.995627, 0, 2e-44, 1e-45, 0, 2.1e-44, 2e-44, 1e-45, 1.8e-44, 3e-45, 1e-45, 2e-44, 1.8e-44, 3e-45, 1.7e-44, 4e-45, 3e-45, 1.8e-44, 1.7e-44, 4e-45, 1.5e-44, 6e-45, 4e-45, 1.7e-44, 1.5e-44, 6e-45, 1.4e-44, 7e-45, 6e-45, 1.5e-44, 1.4e-44, 7e-45, 1.3e-44)

[sub_resource type="QuadMesh" id="QuadMesh_iqnx4"]
size = Vector2(0.25, -0.25)

[sub_resource type="MultiMesh" id="MultiMesh_hyrsr"]
instance_count = 100
mesh = SubResource("QuadMesh_iqnx4")
buffer = PackedFloat32Array(2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 2, 2, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.00189573, 0, 0, 0.308, 0.511, 0.686, 0.8, 0, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 2, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.00189573, 307, 0, 0.308, 0.511, 0.686, 0.8, 1, 0, 305, 1052, 0.308, 0.511, 0.686, 0.8, 0.993485, 0.997156, 307, 1052, 0.308, 0.511, 0.686, 0.8, 1, 0.997156, 304.866, 1052.5, 0.308, 0.511, 0.686, 0.8, 0.993049, 0.99763, 306.598, 1053.5, 0.308, 0.511, 0.686, 0.8, 0.998691, 0.998578, 304.5, 1052.87, 0.308, 0.511, 0.686, 0.8, 0.991857, 0.997977, 305.5, 1054.6, 0.308, 0.511, 0.686, 0.8, 0.995114, 0.999619, 304, 1053, 0.308, 0.511, 0.686, 0.8, 0.990228, 0.998104, 304, 1055, 0.308, 0.511, 0.686, 0.8, 0.990228, 1, 3, 1053, 0.308, 0.511, 0.686, 0.8, 0.00977199, 0.998104, 3, 1055, 0.308, 0.511, 0.686, 0.8, 0.00977198, 1, 2.5, 1052.87, 0.308, 0.511, 0.686, 0.8, 0.00814332, 0.997977, 1.5, 1054.6, 0.308, 0.511, 0.686, 0.8, 0.00488599, 0.999619, 2.13397, 1052.5, 0.308, 0.511, 0.686, 0.8, 0.00695106, 0.99763, 0.401924, 1053.5, 0.308, 0.511, 0.686, 0.8, 0.0013092, 0.998578, 2, 1052, 0.308, 0.511, 0.686, 0.8, 0.00651466, 0.997156, 0, 1052, 0.308, 0.511, 0.686, 0.8, 0, 0.997156, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 2, 2, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 2, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.00189573, 305, 1052, 0.17044, 0.21296, 0.26516, 1, 0.993485, 0.997156, 304.866, 1052.5, 0.17044, 0.21296, 0.26516, 1, 0.993049, 0.99763, 304.5, 1052.87, 0.17044, 0.21296, 0.26516, 1, 0.991857, 0.997977, 304, 1053, 0.17044, 0.21296, 0.26516, 1, 0.990228, 0.998104, 3, 1053, 0.17044, 0.21296, 0.26516, 1, 0.00977199, 0.998104, 2.5, 1052.87, 0.17044, 0.21296, 0.26516, 1, 0.00814332, 0.997977, 2.13397, 1052.5, 0.17044, 0.21296, 0.26516, 1, 0.00695106, 0.99763, 2, 1052, 0.17044, 0.21296, 0.26516, 1, 0.00651466, 0.997156, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 2, 2, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.00291545, 0, 0, 0.368375, 0.35875, 0.686, 0.8, 0, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 2, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.00291545, 299, 0, 0.368375, 0.35875, 0.686, 0.8, 1, 0, 297, 683, 0.368375, 0.35875, 0.686, 0.8, 0.993311, 0.995627, 299, 683, 0.368375, 0.35875, 0.686, 0.8, 1, 0.995627, 296.866, 683.5, 0.368375, 0.35875, 0.686, 0.8, 0.992863, 0.996356, 298.598, 684.5, 0.368375, 0.35875, 0.686, 0.8, 0.998656, 0.997813, 296.5, 683.866, 0.368375, 0.35875, 0.686, 0.8, 0.991639, 0.996889, 297.5, 685.598, 0.368375, 0.35875, 0.686, 0.8, 0.994983, 0.999414, 296, 684, 0.368375, 0.35875, 0.686, 0.8, 0.989967, 0.997085, 296, 686, 0.368375, 0.35875, 0.686, 0.8, 0.989967, 1, 3, 684, 0.368375, 0.35875, 0.686, 0.8, 0.0100334, 0.997085, 3, 686, 0.368375, 0.35875, 0.686, 0.8, 0.0100334, 1, 2.5, 683.866, 0.368375, 0.35875, 0.686, 0.8, 0.0083612, 0.996889, 1.5, 685.598, 0.368375, 0.35875, 0.686, 0.8, 0.00501672, 0.999414, 2.13397, 683.5, 0.368375, 0.35875, 0.686, 0.8, 0.00713704, 0.996356, 0.401924, 684.5, 0.368375, 0.35875, 0.686, 0.8, 0.00134423, 0.997813, 2, 683, 0.368375, 0.35875, 0.686, 0.8, 0.00668896, 0.995627, 0, 683, 0.368375, 0.35875, 0.686, 0.8, 0, 0.995627, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 2, 2, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 2, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.00291545, 297, 683, 0.17734, 0.19556, 0.26516, 1, 0.993311, 0.995627, 296.866, 683.5, 0.17734, 0.19556, 0.26516, 1, 0.992863, 0.996356, 296.5, 683.866, 0.17734, 0.19556, 0.26516, 1, 0.991639, 0.996889, 296, 684, 0.17734, 0.19556, 0.26516, 1, 0.989967, 0.997085, 3, 684, 0.17734, 0.19556, 0.26516, 1, 0.0100334, 0.997085, 2.5, 683.866, 0.17734, 0.19556, 0.26516, 1, 0.0083612, 0.996889, 2.13397, 683.5, 0.17734, 0.19556, 0.26516, 1, 0.00713704, 0.996356, 2, 683, 0.17734, 0.19556, 0.26516, 1, 0.00668896, 0.995627, 0, 2e-44, 1e-45, 0, 2.1e-44, 2e-44, 1e-45, 1.8e-44, 3e-45, 1e-45, 2e-44, 1.8e-44, 3e-45, 1.7e-44, 4e-45, 3e-45, 1.8e-44, 1.7e-44, 4e-45, 1.5e-44, 6e-45, 4e-45, 1.7e-44, 1.5e-44, 6e-45, 1.4e-44, 7e-45, 6e-45, 1.5e-44, 1.4e-44, 7e-45, 1.3e-44)

[sub_resource type="Gradient" id="Gradient_rc5oc"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_g5382"]
gradient = SubResource("Gradient_rc5oc")
width = 16
height = 16

[node name="MLSMPM2DFluidMultithread" type="Node2D"]
script = ExtResource("1_6jy8r")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(-16, -13)
anchor_mode = 0
zoom = Vector2(8, 8)

[node name="MultiMeshInstanceCells" type="MultiMeshInstance2D" parent="."]
multimesh = SubResource("MultiMesh_lxfii")
texture = ExtResource("2_mti7f")

[node name="MultiMeshInstanceParticles" type="MultiMeshInstance2D" parent="."]
modulate = Color(0.420946, 0.446894, 0.782654, 1)
multimesh = SubResource("MultiMesh_hyrsr")
texture = SubResource("GradientTexture2D_g5382")
